<odoo>
  <record id="view_work_queue_plan_form" model="ir.ui.view">
    <field name="name">work.queue.plan.form</field>
    <field name="model">work.queue.plan</field>
    <field name="arch" type="xml">
      <form string="Planificador">
        <sheet>
          <group>
            <field name="workcenter_id" required="1" string="Centro de trabajo"/>
            <field name="employee_id"  required="1" string="Empleado"/>
          </group>
          <header>
            <button name="action_load_available" type="object"
                    string="Cargar disponibles" class="btn-secondary"/>
          </header>

          <group col="2">

            <!-- IZQUIERDA -->
            <group>
              <h3>Operaciones disponibles</h3>
              <field name="backlog_item_ids"
                     domain="[('employee_id','=',False), ('workcenter_id','=',workcenter_id)]"
                     context="{'active_id': id}"
                     options="{'no_create': True, 'no_create_edit': True, 'no_edit': True, 'no_open': True}">
                <tree create="0" delete="0" editable="0">
                  <field name="workorder_id"   string="Operación"/>
                  <field name="workcenter_id"  string="Centro de trabajo"/>
                  <field name="product_id"     string="Producto"/>
                  <field name="production_id"  string="OF"/>
                  <field name="state"          string="Estado"/>
                  <button name="action_assign_to_employee" type="object"
                          string="→" class="btn-primary"
                          title="Asignar a la cola del empleado"/>
                </tree>
              </field>
            </group>

            <!-- DERECHA -->
            <group>
              <h3>Cola del empleado</h3>
              <field name="line_ids"
                     domain="[('employee_id','=',employee_id), ('workcenter_id','=',workcenter_id)]"
                     context="{'active_id': id}"
                     options="{'no_create': True, 'no_create_edit': True, 'no_open': True}">
                <tree create="0" delete="0" editable="bottom">
                  <field name="sequence" widget="handle" string="#"/>
                  <field name="workorder_id"   string="Operación"/>
                  <field name="workcenter_id"  string="Centro de trabajo"/>
                  <field name="product_id"     string="Producto"/>
                  <field name="production_id"  string="OF"/>
                  <field name="state"          string="Estado"/>
                  <button name="action_unassign" type="object"
                          string="←" class="btn-secondary"
                          title="Quitar de la cola"/>
                </tree>
              </field>
            </group>

          </group>
        </sheet>
      </form>
    </field>
  </record>
</odoo>
